import{u as v,r as j,j as e,H as b,L as g}from"./app-Cjaydyz8.js";import{A as N,B as y}from"./AuthenticatedLayout-C03Kg5kX.js";import{C as w,a as C,b as _,c as I,d as k}from"./card-Sxjco7zn.js";import{B as m,I as l}from"./index-DbyRySj0.js";import{L as t}from"./label-Czk_V6Fx.js";import{I as o}from"./InputError-Don4MZHl.js";import{A}from"./arrow-left-Cu_XEM-a.js";import{U as P}from"./upload-D3IapsMq.js";function R(){const{data:i,setData:a,post:x,processing:u,errors:r}=v({title:"",description:"",author:"",library_name:"",issue_date:"",note:"",duration:"",return_date:"",total_pages:"",cover_image:null}),[n,h]=j.useState(null),p=s=>{const d=s.target.files[0];if(d){a("cover_image",d);const c=new FileReader;c.onloadend=()=>{h(c.result)},c.readAsDataURL(d)}},f=s=>{s.preventDefault(),x(route("books.store"),{forceFormData:!0})};return e.jsxs(N,{children:[e.jsx(b,{title:"Add New Book"}),e.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-gradient-to-br from-emerald-600 via-teal-600 to-cyan-600 p-6 shadow-xl",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS1vcGFjaXR5PSIwLjEiIHN0cm9rZS13aWR0aD0iMSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNncmlkKSIvPjwvc3ZnPg==')] opacity-30"}),e.jsxs("div",{className:"relative flex items-center gap-4",children:[e.jsx(g,{href:route("books.index"),children:e.jsxs(m,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Back"]})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Add New Book"}),e.jsx("p",{className:"text-sm text-teal-100",children:"Add a book to your library"})]})]})]}),e.jsxs(w,{className:"border-0 shadow-lg",children:[e.jsxs(C,{children:[e.jsx(_,{className:"text-2xl",children:"Add New Book"}),e.jsx(I,{children:"Add a new book to your reading collection"})]}),e.jsx(k,{children:e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"cover_image",children:"Book Cover (Optional)"}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-40 aspect-[2/3] rounded-lg bg-gradient-to-br from-slate-100 via-slate-50 to-green-50 overflow-hidden flex items-center justify-center border-2 border-dashed border-gray-300",children:n?e.jsx("img",{src:n,alt:"Cover preview",className:"w-full h-full object-cover"}):e.jsxs("div",{className:"flex flex-col items-center justify-center p-4",children:[e.jsx(y,{className:"h-16 w-16 text-green-300 mb-2"}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"No image"})]})}),e.jsxs("div",{className:"w-full",children:[e.jsx("input",{type:"file",id:"cover_image",accept:"image/*",onChange:p,className:"hidden"}),e.jsxs("label",{htmlFor:"cover_image",className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 w-full cursor-pointer",children:[e.jsx(P,{className:"h-4 w-4"}),n?"Change Cover":"Upload Cover"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:"JPG or PNG, max 20MB"})]})]}),e.jsx(o,{message:r.cover_image})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"title",children:"Book Title *"}),e.jsx(l,{id:"title",value:i.title,onChange:s=>a("title",s.target.value),placeholder:"Enter book title",className:"focus:ring-green-500",required:!0}),e.jsx(o,{message:r.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"author",children:"Author"}),e.jsx(l,{id:"author",value:i.author,onChange:s=>a("author",s.target.value),placeholder:"Author name",className:"focus:ring-green-500"}),e.jsx(o,{message:r.author})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"library_name",children:"Library Name"}),e.jsx(l,{id:"library_name",value:i.library_name,onChange:s=>a("library_name",s.target.value),placeholder:"e.g. Central Library",className:"focus:ring-green-500"}),e.jsx(o,{message:r.library_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"duration",children:"Duration (e.g. 5h 30m)"}),e.jsx(l,{id:"duration",value:i.duration,onChange:s=>a("duration",s.target.value),placeholder:"Enter duration",className:"focus:ring-green-500"}),e.jsx(o,{message:r.duration})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"description",children:"Description"}),e.jsx("textarea",{id:"description",value:i.description,onChange:s=>a("description",s.target.value),placeholder:"Brief description or notes about the book",rows:4,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}),e.jsx(o,{message:r.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"note",children:"Private Notes"}),e.jsx("textarea",{id:"note",value:i.note,onChange:s=>a("note",s.target.value),placeholder:"Add any private notes here...",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}),e.jsx(o,{message:r.note})]}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"issue_date",children:"Issue Date"}),e.jsx(l,{type:"date",id:"issue_date",value:i.issue_date,onChange:s=>a("issue_date",s.target.value),className:"focus:ring-green-500"}),e.jsx(o,{message:r.issue_date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"return_date",children:"Return Date"}),e.jsx(l,{type:"date",id:"return_date",value:i.return_date,onChange:s=>a("return_date",s.target.value),className:"focus:ring-green-500"}),e.jsx(o,{message:r.return_date})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"total_pages",children:"Total Pages"}),e.jsx(l,{type:"number",id:"total_pages",value:i.total_pages,onChange:s=>a("total_pages",s.target.value),placeholder:"e.g., 350",min:"1",className:"focus:ring-green-500"}),e.jsx(o,{message:r.total_pages})]}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-3 pt-4",children:[e.jsx(g,{href:route("books.index"),className:"flex-1",children:e.jsx(m,{type:"button",variant:"outline",className:"w-full",children:"Cancel"})}),e.jsx(m,{type:"submit",disabled:u,className:"flex-1 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700",children:u?"Adding Book...":"Add Book"})]})]})})]})]})]})}export{R as default};
