import{u as j,r as v,j as e,H as b,L as x}from"./app-1ReD06DP.js";import{A as N,B as y}from"./AuthenticatedLayout-CEZ7XWFM.js";import{C as _,a as w,b as C,c as k,d as B}from"./card-DSCkEG9B.js";import{B as m,I as l}from"./index-C5WthPdL.js";import{L as t}from"./label-BA-S9Txa.js";import{I as o}from"./InputError-C6K29MHn.js";import{A}from"./arrow-left-BPdNyevk.js";import{U as F}from"./upload-imTARLl6.js";function T(){const{data:i,setData:r,post:h,processing:u,errors:a}=j({title:"",description:"",author:"",issue_date:"",return_date:"",total_pages:"",cover_image:null}),[n,g]=v.useState(null),p=s=>{const d=s.target.files[0];if(d){r("cover_image",d);const c=new FileReader;c.onloadend=()=>{g(c.result)},c.readAsDataURL(d)}},f=s=>{s.preventDefault(),h(route("books.store"),{forceFormData:!0})};return e.jsxs(N,{children:[e.jsx(b,{title:"Add New Book"}),e.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[e.jsx(x,{href:route("books.index"),children:e.jsxs(m,{variant:"ghost",size:"sm",className:"text-rose-600 hover:text-rose-700 hover:bg-rose-50",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Back to Books"]})}),e.jsxs(_,{className:"border-rose-100",children:[e.jsxs(w,{children:[e.jsx(C,{className:"text-2xl",children:"Add New Book"}),e.jsx(k,{children:"Add a new book to your reading collection"})]}),e.jsx(B,{children:e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"cover_image",children:"Book Cover (Optional)"}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-40 aspect-[2/3] rounded-lg bg-gradient-to-br from-slate-100 via-slate-50 to-rose-50 overflow-hidden flex items-center justify-center border-2 border-dashed border-gray-300",children:n?e.jsx("img",{src:n,alt:"Cover preview",className:"w-full h-full object-cover"}):e.jsxs("div",{className:"flex flex-col items-center justify-center p-4",children:[e.jsx(y,{className:"h-16 w-16 text-rose-300 mb-2"}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"No image"})]})}),e.jsxs("div",{className:"w-full",children:[e.jsx("input",{type:"file",id:"cover_image",accept:"image/*",onChange:p,className:"hidden"}),e.jsxs("label",{htmlFor:"cover_image",className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 w-full cursor-pointer",children:[e.jsx(F,{className:"h-4 w-4"}),n?"Change Cover":"Upload Cover"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:"JPG or PNG, max 2MB"})]})]}),e.jsx(o,{message:a.cover_image})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"title",children:"Book Title *"}),e.jsx(l,{id:"title",value:i.title,onChange:s=>r("title",s.target.value),placeholder:"Enter book title",className:"focus:ring-rose-500",required:!0}),e.jsx(o,{message:a.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"author",children:"Author"}),e.jsx(l,{id:"author",value:i.author,onChange:s=>r("author",s.target.value),placeholder:"Author name",className:"focus:ring-rose-500"}),e.jsx(o,{message:a.author})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"description",children:"Description"}),e.jsx("textarea",{id:"description",value:i.description,onChange:s=>r("description",s.target.value),placeholder:"Brief description or notes about the book",rows:4,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}),e.jsx(o,{message:a.description})]}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"issue_date",children:"Issue Date"}),e.jsx(l,{type:"date",id:"issue_date",value:i.issue_date,onChange:s=>r("issue_date",s.target.value),className:"focus:ring-rose-500"}),e.jsx(o,{message:a.issue_date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"return_date",children:"Return Date"}),e.jsx(l,{type:"date",id:"return_date",value:i.return_date,onChange:s=>r("return_date",s.target.value),className:"focus:ring-rose-500"}),e.jsx(o,{message:a.return_date})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"total_pages",children:"Total Pages"}),e.jsx(l,{type:"number",id:"total_pages",value:i.total_pages,onChange:s=>r("total_pages",s.target.value),placeholder:"e.g., 350",min:"1",className:"focus:ring-rose-500"}),e.jsx(o,{message:a.total_pages})]}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-3 pt-4",children:[e.jsx(x,{href:route("books.index"),className:"flex-1",children:e.jsx(m,{type:"button",variant:"outline",className:"w-full",children:"Cancel"})}),e.jsx(m,{type:"submit",disabled:u,className:"flex-1 bg-gradient-to-r from-rose-600 to-rose-500 hover:from-rose-700 hover:to-rose-600",children:u?"Adding Book...":"Add Book"})]})]})})]})]})]})}export{T as default};
